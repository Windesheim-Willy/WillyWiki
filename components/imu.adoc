include::../Header.adoc[]

== IMU

The IMU sensor (pose tracking) is used to get a higher accuracy of Willy the Robot's orientation for navigation and localization purposes.

=== Repository
====
https://github.com/Windesheim-Willy/pose_tracking[Windesheim-Willy/pose_tracking, role="external", window="_blank"]
====

=== Prerequisites
The IMU sensor (Arduino) must be connected to the Sensor Pi via USB.

=== How to run?
The pose tracking will start automatic when the PI is running. If it doesn't, the pose tracking node can be started manually by going into the root of the pose tracking node's source directory:

[source,shell]
----
./START start
----

=== Wiring schematic

image::assets/imu/arduino-mpu6050.png[MPU6050,300]

=== Calibration
Sometimes it is needed to set the sensor's origin to 0. The command to do this is as follows:
[source,shell]
----
rosservice call /imu/set_zero_orientation
----

It would be wise to do this each time WTR is started, and after its position/orientation has been set in RViz.

=== Background
The IMU data that is published on the topic `/imu/data`, is used by move_base, amcl and/or the laser_scan_matcher node. 
